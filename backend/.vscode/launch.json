{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "type": "node",
            "request": "launch",
            "name": "CHP XML Fetcher",
            "stopOnEntry": false,
            // Allows capturing winston logger output
            "outputCapture": "std",
            //"runtimeExecutable": "${workspaceFolder}/node_modules/nodemon/bin/nodemon.js",
            "program": "${workspaceFolder}/src/cronicle/pluginRunner.mjs",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "args": ["<", "${workspaceFolder}/src/cronicle/job-input.json"],
            "console": "integratedTerminal",
            "env": { 
                "NODE_ENV": "development",
                "LOG_LEVEL": "debug",
                //"PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/chpXMLtoJSON.js",
                "PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/twitterplugin.js",
                //"PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/testplugin.js",
                //"PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/plugins/chpBasePlugin.js",
                //"PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/five11Plugin.js",
                //"PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/wazePlugin.js",
                "REDIS_HOST": "localhost",
                "REDIS_PASSWORD": "65cb27448f6ebf729f30b3f44a57c9812945e2f2",
            },
            "runtimeArgs": [
                "--harmony",
                "--no-deprecation",
                "--preserve-symlinks"
            ],
            //"internalConsoleOptions": "neverOpen",
            "outFiles": [
                "${workspaceRoot}/build/**/*.js"
            ],
             "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ]
        },     
        {
            "type": "node",
            "request": "launch",
            "name": "Cronicle Plugin Runner",
            "stopOnEntry": false,
            // Allows capturing winston logger output
            "outputCapture": "std",
            //"runtimeExecutable": "${workspaceFolder}/node_modules/nodemon/bin/nodemon.js",
            "program": "${workspaceFolder}/build/cronicle/pluginRunner.mjs",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "args": ["<", "${workspaceFolder}/src/cronicle/job-input.json"],
            "console": "integratedTerminal",
            "env": { 
                "NODE_ENV": "development",
                "LOG_LEVEL": "debug",
                "PLUGIN_FILENAME_OLD": "${workspaceFolder}/build/cronicle/chpPlugin.js",
                "PLUGIN_FILENAME": "${workspaceFolder}/build/cronicle/five11Plugin.js",
                "PLUGIN_FILENAME_NEw": "${workspaceFolder}/build/cronicle/testplugin.js",
                "APPLE_AUTH_KEY_WEATHER": "AuthKey_FXMCLSSTTM.p8",
                "APPLE_AUTH_KEY_MAPS": "AuthKey_M6RQMRUNKP.p8",
            },
            "runtimeArgs": [
                "--harmony",
                "--no-deprecation",
                "--preserve-symlinks"
            ],
            //"internalConsoleOptions": "neverOpen",
            "outFiles": [
                "${workspaceRoot}/build/**/*.js"
            ],
             "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ]
        },     
        {
            "type": "node",
            "request": "launch",
            "name": "Cronicle CHP XML Task",
            "stopOnEntry": false,
            // Allows capturing winston logger output
            "outputCapture": "std",
            //"runtimeExecutable": "${workspaceFolder}/node_modules/nodemon/bin/nodemon.js",
            //"program": "${workspaceFolder}/build/cronicle/cwwpPlugin.js",
            //"program": "${workspaceFolder}/build/cronicle/googlemaps.js",
            "program": "${workspaceFolder}/build/cronicle/chpXMLtoJSON.js",
            //"program": "${workspaceFolder}/build/cronicle/five11Plugin.js",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "args": ["<", "${workspaceFolder}/src/cronicle/job-input.json"],
            "console": "integratedTerminal",
            "env": { 
                "NODE_ENV": "development",
                "LOG_LEVEL": "debug",
                //"CWWPPATH": "lcs",
                //"DISTRICTS": "[1,2,3,4,5,6,7,8,9,10,11,12]",
                //"DURATION": "43800",
                "GOOGLE_MAPS_API_KEY": "=AIzaSyDyALAAmQPQSzGymve1rf--NraXk-IA64E",
                "REFERRER": "Node-js-512MB-Oregon-1-Commute v0.1",
                //"REDIS_HOST": "35.164.46.189",
                //"REDIS_PASSWORD": "EmkijH39JJqN74Y4HRPlXaFveJNugURdKXSqw",
                "REDIS_HOST": "localhost",
                "REDISCLI_PASSWORD": "65cb27448f6ebf729f30b3f44a57c9812945e2f2",
                "ORIGIN": "Santa+Cruz+CA",
                "DESTINATION": "Los+Gatos+CA"
            },
            "runtimeArgs": [
                "--harmony",
                "--no-deprecation",
                "--preserve-symlinks"
            ],
            //"internalConsoleOptions": "neverOpen",
            "outFiles": [
                "${workspaceRoot}/build/**/*.js"
            ],
             "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ]
        },     
        {
            "type": "node",
            "request": "launch",
            "name": "Run current .ts file",
            "program": "${file}",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "console": "internalConsole",
            "outputCapture": "std",
            "outFiles": ["${workspaceFolder}/build/**/*.js"],
            "env": {
                "NODE_ENV": "production",
                "LOG_LEVEL": "debug",
                "APPLE_AUTH_KEY_WEATHER": "AuthKey_FXMCLSSTTM.p8",
                "APPLE_AUTH_KEY_MAPS": "AuthKey_M6RQMRUNKP.p8",
                "REDIS_HOST": "35.164.46.189",
                "REDIS_PASSWORD": "EmkijH39JJqN74Y4HRPlXaFveJNugURdKXSqw"
            },
            "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ]            
        },        
        {
            "type": "node",
            "request": "launch",
            "name": "Launch traffic-graphql",
            //"runtimeExecutable": "nodemon",
            //"restart": true,
            //"console": "internalConsole",
            "console": "internalConsole",
            // Allows capturing winston logger output
            "outputCapture": "std",
            "stopOnEntry": false,
            "program": "${workspaceFolder}/src/apollo-server-4.ts",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "env": {
                "DISABLE_GQL_CACHE": "true",
                "ENABLE_COMMUTEDASH": "true",
                "NODE_ENV": "development",
                "LOG_LEVEL": "debug",
                "REDIS_HOST": "localhost",
                "REDIS_PASSWORD": "65cb27448f6ebf729f30b3f44a57c9812945e2f2"
            },
            "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ],            
            "runtimeArgs": [
                //"--harmony",
                //"--no-deprecation"
            ],
            "outFiles": [
                "${workspaceRoot}/build/**/*.js"
            ],
            //"skipFiles": [
                // Slow startup issue https://github.com/microsoft/vscode-js-debug/issues/1179
            //    "${workspaceRoot}/node_modules/**/*.js",
            //    "<node_internals>/**"
            //]
        },
        {
            "type": "node",
            "request": "launch",
            "name": "Production",
            //"runtimeExecutable": "nodemon",
            //"restart": true,
            //"console": "internalConsole",
            "console": "internalConsole",
            // Allows capturing winston logger output
            "outputCapture": "std",
            "stopOnEntry": false,
            "program": "${workspaceFolder}/src/apollo-server-4.ts",
            "preLaunchTask": "tsc: build - tsconfig.json",
            "env": {
                "NODE_ENV": "production",
                "LOG_LEVEL": "info",
                //"REDIS_HOST": "localhost",
                //"REDIS_PASSWORD": "65cb27448f6ebf729f30b3f44a57c9812945e2f2",
                "REDIS_HOST": "35.164.46.189",
                "REDIS_PASSWORD": "EmkijH39JJqN74Y4HRPlXaFveJNugURdKXSqw"
            },
            "runtimeArgs": [
                "--harmony",
                "--no-deprecation"
            ],
            "outFiles": [
                "${workspaceRoot}/build/**/*.js"
            ],
            "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
                // Slow startup issue https://github.com/microsoft/vscode-js-debug/issues/1179
                // "${workspaceRoot}/node_modules/**/*.js"
            ]
        },
        {
            "type": "node",
            "name": "cronjob runner",
            "request": "launch",
            "runtimeExecutable": "node",
            "runtimeArgs": [
                "--nolazy",
                "-r",
                "ts-node/register/transpile-only"
            ],
            "preLaunchTask": "tsc: build - tsconfig.json",
            "outputCapture": "std",
            "args": [
                "src/runner.ts"
            ],
            "cwd": "${workspaceRoot}",
            "internalConsoleOptions": "openOnSessionStart",
            "skipFiles": [
                "<node_internals>/**",
                "node_modules/**"
            ],
            "env": {
                "NODE_ENV": "development",
                "LOG_LEVEL": "debug"
            }
        },
        {
            "name": "Test nws.ts",
            "smartStep": true,
            "type": "node",
            "request": "launch",
            "runtimeExecutable": "node",
            "stopOnEntry": false,
            "runtimeArgs": [
                "--nolazy",
                "-r",
                "ts-node/register/transpile-only"
            ],
            "args": [
                "src/test/nws.ts"
            ],
            "cwd": "${workspaceRoot}",
            "internalConsoleOptions": "openOnSessionStart",
            "skipFiles": [
                "<node_internals>/**",
                "node_modules/**"
            ],
            "env": {
                "NODE_ENV": "debug",
                "LOG_LEVEL": "debug"
            }
        },
        {
            "name": "Test roadconditions.ts",
            "smartStep": true,
            "type": "node",
            "request": "launch",
            "runtimeExecutable": "node",
            "stopOnEntry": false,
            "runtimeArgs": [
                "--nolazy",
                "-r",
                "ts-node/register/transpile-only"
            ],
            "args": [
                "src/schemas/roadconditions.ts"
            ],
            "cwd": "${workspaceRoot}",
            "internalConsoleOptions": "openOnSessionStart",
            "skipFiles": [
                "<node_internals>/**",
                "node_modules/**"
            ],
            "env": {
                "NODE_ENV": "debug",
                "LOG_LEVEL": "debug"
            }
        },
        {
            "name": "Test AZ511",
            "smartStep": true,
            "type": "node",
            "request": "launch",
            "runtimeExecutable": "node",
            "stopOnEntry": false,
            "runtimeArgs": [
                "--nolazy",
                "-r",
                "ts-node/register/transpile-only"
            ],
            "args": [
                "src/schemas/az/testaz511.ts"
            ],
            "cwd": "${workspaceRoot}",
            "internalConsoleOptions": "openOnSessionStart",
            "skipFiles": [
                "<node_internals>/**",
                "node_modules/**"
            ],
            "env": {
                "NODE_ENV": "debug",
                "LOG_LEVEL": "debug"
            }
        },
        {
            "type": "chrome",
            "request": "attach",
            "name": "Attach to Chrome",
            "port": 9222,
            "webRoot": "${workspaceFolder}/build"
        },
    ]
}